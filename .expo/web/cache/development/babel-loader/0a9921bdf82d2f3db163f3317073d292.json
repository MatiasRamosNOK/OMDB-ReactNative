{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/home/matias/Documentos/ReactNative/OMDB-ReactNativeGIT/components/Login.js\";\nimport React, { useEffect } from \"react\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport Keyboard from \"react-native-web/dist/exports/Keyboard\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { setSuccesfullNull } from \"../redux/actions/register\";\nimport { Spinner } from \"native-base\";\nimport Icon from \"@expo/vector-icons/FontAwesome\";\nimport { Button } from \"react-native-elements\";\nimport { Input } from \"react-native-elements\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { logginUser } from \"../redux/actions/login\";\nimport { set } from \"react-native-reanimated\";\nimport { resetSuccesfull } from \"../redux/actions/login\";\nvar windowHeight = Dimensions.get(\"window\").height;\nvar windowWidth = Dimensions.get(\"window\").width;\nexport default function Login(_ref) {\n  var navigation = _ref.navigation;\n  var succesfulRegister = useSelector(function (store) {\n    return store.register.succesfull;\n  });\n  var registration = useSelector(function (store) {\n    return store.register.succesfull;\n  });\n  var loginStatus = useSelector(function (store) {\n    return store.login.succesfull;\n  });\n\n  var _React$useState = React.useState(\"\"),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      email = _React$useState2[0],\n      setEmail = _React$useState2[1];\n\n  var _React$useState3 = React.useState(\"\"),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      password = _React$useState4[0],\n      setPassword = _React$useState4[1];\n\n  var _React$useState5 = React.useState(false),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      waiting = _React$useState6[0],\n      setWaiting = _React$useState6[1];\n\n  var _React$useState7 = React.useState(\"\"),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      errorEmail = _React$useState8[0],\n      setErrorEmail = _React$useState8[1];\n\n  var dispatch = useDispatch();\n\n  var twoButtonsAlert = function twoButtonsAlert() {\n    Alert.alert(\"Something is wrong!\", \"Email and password field should be complete!\", [{\n      text: \"OK\",\n      onPress: function onPress() {\n        return console.log(\"OK Pressed\");\n      }\n    }], {\n      cancelable: false\n    });\n  };\n\n  var emailAlert = function emailAlert() {\n    Alert.alert(\"Something is wrong!\", \"Email field should be complete!\", [{\n      text: \"OK\",\n      onPress: function onPress() {\n        return console.log(\"OK Pressed\");\n      }\n    }], {\n      cancelable: false\n    });\n  };\n\n  var passwordAlert = function passwordAlert() {\n    Alert.alert(\"Something is wrong!\", \"Password field should be complete!\", [{\n      text: \"OK\",\n      onPress: function onPress() {\n        return console.log(\"OK Pressed\");\n      }\n    }], {\n      cancelable: false\n    });\n  };\n\n  var loginFail = function loginFail() {\n    Alert.alert(\"Fail\", \"Username or password is wrong\", [{\n      text: \"OK\",\n      onPress: function onPress() {\n        return console.log(\"OK Pressed\");\n      }\n    }], {\n      cancelable: false\n    });\n  };\n\n  var checkData = function checkData() {\n    console.log(\"Entro a checkData\");\n\n    if (email == \"\" && password == \"\") {\n      return twoButtonsAlert();\n    } else if (email == \"\") {\n      return emailAlert();\n    } else if (password == \"\") {\n      return passwordAlert();\n    } else if (!email.includes(\"@\") || !email.slice(email.indexOf(\"@\"), email.length).includes(\".\")) {\n      setErrorEmail(\"Email is not valid\");\n    } else {\n      setWaiting(true);\n      dispatch(logginUser({\n        email: email.toLocaleLowerCase(),\n        password: password\n      }));\n    }\n  };\n\n  if (succesfulRegister) {\n    dispatch(setSuccesfullNull());\n  }\n\n  useEffect(function () {\n    if (loginStatus) {\n      navigation.navigate(\"Home\");\n    } else {\n      if (loginStatus == false) {\n        console.log(\"Entro en loginFalse\");\n        setWaiting(false);\n        setEmail(\"\");\n        setPassword(\"\");\n        dispatch(resetSuccesfull());\n        return loginFail();\n      }\n    }\n  }, [loginStatus]);\n  return React.createElement(View, {\n    style: styles.root,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 5\n    }\n  }, waiting ? React.createElement(View, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 9\n    }\n  }, React.createElement(Spinner, {\n    color: \"blue\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 11\n    }\n  })) : React.createElement(View, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 9\n    }\n  }, loginStatus ? null : React.createElement(View, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 13\n    }\n  }, React.createElement(View, {\n    style: styles.email,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 15\n    }\n  }, registration ? React.createElement(Text, {\n    style: styles.textCredentials,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 19\n    }\n  }, \"Please log in with your credentials\") : null, React.createElement(Text, {\n    style: styles.textEmail,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 17\n    }\n  }, \"Email\"), React.createElement(Input, {\n    placeholderTextColor: \"gray\",\n    placeholder: \"abc@example.com\",\n    leftIcon: {\n      type: \"font-awesome\",\n      name: \"envelope\",\n      color: \"white\"\n    },\n    style: styles,\n    onChangeText: function onChangeText(value) {\n      return setEmail(value);\n    },\n    inputStyle: styles.textInput,\n    errorMessage: errorEmail,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 17\n    }\n  })), React.createElement(View, {\n    style: styles.password,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 15\n    }\n  }, React.createElement(Text, {\n    style: styles.textPassword,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 17\n    }\n  }, \"Password\"), React.createElement(Input, {\n    placeholderTextColor: \"gray\",\n    placeholder: \"Som3th1n!gS3c-re\",\n    leftIcon: {\n      marginLeft: 6,\n      type: \"font-awesome\",\n      name: \"lock\",\n      color: \"white\",\n      marginRight: 4\n    },\n    inputStyle: styles.textInput,\n    onChangeText: function onChangeText(value) {\n      return setPassword(value);\n    },\n    secureTextEntry: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 17\n    }\n  })), React.createElement(View, {\n    style: styles.contenedorBotones,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 15\n    }\n  }, React.createElement(Button, {\n    title: \"Login\",\n    buttonStyle: styles.button,\n    onPress: function onPress() {\n      checkData();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 17\n    }\n  }), React.createElement(Button, {\n    title: \"Register\",\n    buttonStyle: styles.button,\n    onPress: function onPress() {\n      navigation.navigate(\"Register\");\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 17\n    }\n  })))));\n}\nvar styles = StyleSheet.create({\n  root: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    backgroundColor: \"black\"\n  },\n  contenedorBotones: {\n    marginTop: 10,\n    width: windowWidth * 0.9,\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\"\n  },\n  button: {\n    marginLeft: 5,\n    marginRight: 5,\n    width: 100,\n    height: 40\n  },\n  email: {\n    width: windowWidth * 0.9\n  },\n  password: {\n    width: windowWidth * 0.9\n  },\n  textEmail: {\n    marginLeft: 10,\n    fontSize: 18,\n    color: \"lightblue\"\n  },\n  textCredentials: {\n    marginLeft: 10,\n    fontSize: 18,\n    color: \"lightblue\",\n    marginBottom: 20\n  },\n  textPassword: {\n    marginLeft: 10,\n    fontSize: 18,\n    color: \"lightblue\"\n  },\n  textInput: {\n    color: \"white\"\n  }\n});","map":{"version":3,"sources":["/home/matias/Documentos/ReactNative/OMDB-ReactNativeGIT/components/Login.js"],"names":["React","useEffect","setSuccesfullNull","Spinner","Icon","Button","Input","useSelector","useDispatch","logginUser","set","resetSuccesfull","windowHeight","Dimensions","get","height","windowWidth","width","Login","navigation","succesfulRegister","store","register","succesfull","registration","loginStatus","login","useState","email","setEmail","password","setPassword","waiting","setWaiting","errorEmail","setErrorEmail","dispatch","twoButtonsAlert","Alert","alert","text","onPress","console","log","cancelable","emailAlert","passwordAlert","loginFail","checkData","includes","slice","indexOf","length","toLocaleLowerCase","navigate","styles","root","textCredentials","textEmail","type","name","color","value","textInput","textPassword","marginLeft","marginRight","contenedorBotones","button","StyleSheet","create","flex","justifyContent","alignItems","backgroundColor","marginTop","display","flexDirection","fontSize","marginBottom"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\nimport { ActivityIndicator, Keyboard, Dimensions, Alert } from \"react-native\";\nimport {\n  StyleSheet,\n  View,\n  Text,\n  ScrollView,\n  SafeAreaView,\n  Image,\n} from \"react-native\";\nimport { setSuccesfullNull } from \"../redux/actions/register\";\nimport { Spinner } from \"native-base\";\nimport Icon from \"react-native-vector-icons/FontAwesome\";\nimport { Button } from \"react-native-elements\";\nimport { Input } from \"react-native-elements\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { logginUser } from \"../redux/actions/login\";\nimport { set } from \"react-native-reanimated\";\nimport { resetSuccesfull } from \"../redux/actions/login\";\nconst windowHeight = Dimensions.get(\"window\").height;\nconst windowWidth = Dimensions.get(\"window\").width;\nexport default function Login({ navigation }) {\n  const succesfulRegister = useSelector((store) => store.register.succesfull);\n  const registration = useSelector((store) => store.register.succesfull);\n  const loginStatus = useSelector((store) => store.login.succesfull);\n  const [email, setEmail] = React.useState(\"\");\n  const [password, setPassword] = React.useState(\"\");\n  const [waiting, setWaiting] = React.useState(false);\n  const [errorEmail, setErrorEmail] = React.useState(\"\");\n  const dispatch = useDispatch();\n  const twoButtonsAlert = () => {\n    Alert.alert(\n      \"Something is wrong!\",\n      \"Email and password field should be complete!\",\n      [{ text: \"OK\", onPress: () => console.log(\"OK Pressed\") }],\n      { cancelable: false }\n    );\n  };\n\n  const emailAlert = () => {\n    Alert.alert(\n      \"Something is wrong!\",\n      \"Email field should be complete!\",\n      [{ text: \"OK\", onPress: () => console.log(\"OK Pressed\") }],\n      { cancelable: false }\n    );\n  };\n\n  const passwordAlert = () => {\n    Alert.alert(\n      \"Something is wrong!\",\n      \"Password field should be complete!\",\n      [{ text: \"OK\", onPress: () => console.log(\"OK Pressed\") }],\n      { cancelable: false }\n    );\n  };\n\n  const loginFail = () => {\n    Alert.alert(\n      \"Fail\",\n      \"Username or password is wrong\",\n      [{ text: \"OK\", onPress: () => console.log(\"OK Pressed\") }],\n      { cancelable: false }\n    );\n  };\n\n  const checkData = () => {\n    console.log(\"Entro a checkData\");\n    if (email == \"\" && password == \"\") {\n      return twoButtonsAlert();\n    } else if (email == \"\") {\n      return emailAlert();\n    } else if (password == \"\") {\n      return passwordAlert();\n    } else if (\n      !email.includes(\"@\") ||\n      !email.slice(email.indexOf(\"@\"), email.length).includes(\".\")\n    ) {\n      setErrorEmail(\"Email is not valid\");\n    } else {\n      setWaiting(true);\n      dispatch(\n        logginUser({ email: email.toLocaleLowerCase(), password: password })\n      );\n    }\n  };\n\n  if (succesfulRegister) {\n    dispatch(setSuccesfullNull());\n  }\n\n  useEffect(() => {\n    if (loginStatus) {\n      navigation.navigate(\"Home\");\n    } else {\n      if (loginStatus == false) {\n        console.log(\"Entro en loginFalse\");\n        setWaiting(false);\n        setEmail(\"\");\n        setPassword(\"\");\n        dispatch(resetSuccesfull());\n        return loginFail();\n      }\n    }\n  }, [loginStatus]);\n  return (\n    <View style={styles.root}>\n      {waiting ? (\n        <View>\n          <Spinner color=\"blue\" />\n        </View>\n      ) : (\n        <View>\n          {loginStatus ? null : (\n            <View>\n              <View style={styles.email}>\n                {registration ? (\n                  <Text style={styles.textCredentials}>\n                    Please log in with your credentials\n                  </Text>\n                ) : null}\n                <Text style={styles.textEmail}>Email</Text>\n                <Input\n                  placeholderTextColor={\"gray\"}\n                  placeholder=\"abc@example.com\"\n                  leftIcon={{\n                    type: \"font-awesome\",\n                    name: \"envelope\",\n                    color: \"white\",\n                  }}\n                  style={styles}\n                  onChangeText={(value) => setEmail(value)}\n                  inputStyle={styles.textInput}\n                  errorMessage={errorEmail}\n                />\n              </View>\n              <View style={styles.password}>\n                <Text style={styles.textPassword}>Password</Text>\n                <Input\n                  placeholderTextColor={\"gray\"}\n                  placeholder=\"Som3th1n!gS3c-re\"\n                  leftIcon={{\n                    marginLeft: 6,\n                    type: \"font-awesome\",\n                    name: \"lock\",\n                    color: \"white\",\n                    marginRight: 4,\n                  }}\n                  inputStyle={styles.textInput}\n                  onChangeText={(value) => setPassword(value)}\n                  secureTextEntry={true}\n                />\n              </View>\n              <View style={styles.contenedorBotones}>\n                <Button\n                  title=\"Login\"\n                  buttonStyle={styles.button}\n                  onPress={() => {\n                    checkData();\n                  }}\n                />\n\n                <Button\n                  title=\"Register\"\n                  buttonStyle={styles.button}\n                  onPress={() => {\n                    navigation.navigate(\"Register\");\n                  }}\n                />\n              </View>\n            </View>\n          )}\n        </View>\n      )}\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  root: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    backgroundColor: \"black\",\n  },\n  contenedorBotones: {\n    marginTop: 10,\n    width: windowWidth * 0.9,\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n  },\n  button: {\n    marginLeft: 5,\n    marginRight: 5,\n    width: 100,\n    height: 40,\n  },\n  email: {\n    width: windowWidth * 0.9,\n  },\n  password: {\n    width: windowWidth * 0.9,\n  },\n  textEmail: {\n    marginLeft: 10,\n    fontSize: 18,\n    color: \"lightblue\",\n  },\n  textCredentials: {\n    marginLeft: 10,\n    fontSize: 18,\n    color: \"lightblue\",\n    marginBottom: 20,\n  },\n  textPassword: {\n    marginLeft: 10,\n    fontSize: 18,\n    color: \"lightblue\",\n  },\n  textInput: {\n    color: \"white\",\n  },\n});\n"]},"metadata":{},"sourceType":"module"}